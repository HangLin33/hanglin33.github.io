<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Global Journey - Hang Lin</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsvectormap/dist/css/jsvectormap.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/jsvectormap"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsvectormap/dist/maps/world.js"></script>

    <style>
        :root {
            --apple-bg: #f5f5f7;
            --text-main: #1d1d1f;
        }

        body { 
            background-color: var(--apple-bg); 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
        }

        .map-wrapper {
            max-width: 1200px;
            margin: 40px auto;
            padding: 20px;
            background: #ffffff;
            border-radius: 24px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.05);
        }

        #world-map { width: 100%; height: 600px; }

        /* 高级感提示框 */
        .jvm-tooltip {
            background: rgba(29, 29, 31, 0.9) !important;
            backdrop-filter: blur(8px);
            border: none !important;
            border-radius: 10px !important;
            padding: 10px 15px !important;
            font-size: 14px !important;
            color: #fff !important;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>

<div class="map-wrapper">
    <div style="padding: 20px 40px;">
        <h2 style="font-weight: 800; color: var(--text-main); letter-spacing: -1px;">Global Journey</h2>
        <p style="color: #86868b;">Explore my travel stories by clicking on the colored countries.</p>
    </div>
    
    <div id="world-map"></div>
</div>

<script>
    // 1. 手动为每个国家定义独特的低饱和度颜色
    const countryStyles = {
        "CN": "#ae4d4d", // 中国：低饱和度朱红
        "TW": "#ae4d4d", // 台湾：与大陆同步颜色
        "GB": "#5d737e", // 英国：石板蓝
        "FR": "#7b8aabe", // 法国：雾霾蓝
        "DE": "#6d6875", // 德国：灰紫
        "IT": "#a5a58d", // 意大利：橄榄绿
        "CH": "#b7b7a4", // 瑞士：浅褐
        "NO": "#4a6d7c", // 挪威：深海蓝
        "US": "#89aae6", // 美国：灰天蓝
        "MV": "#90be6d", // 马尔代夫：海岛绿
        "TH": "#f4a261", // 泰国：夕阳橙
        "MY": "#e9c46a", // 马来西亚：芥末黄
        "SG": "#e76f51", // 新加坡：珊瑚色
        "ID": "#2a9d8f", // 印度尼西亚：青蓝
        "AU": "#d4a373", // 澳大利亚：荒漠色
        "AE": "#9e2a2b", // 阿联酋：深红褐
        "TR": "#6b705c"  // 土耳其：苔藓绿
    };

    // 2. 映射跳转链接
    const travelLinks = {
        "CN": "journey/china.html", "TW": "journey/china.html",
        "GB": "journey/uk.html", "FR": "journey/france.html", "DE": "journey/germany.html",
        "IT": "journey/italy.html", "CH": "journey/switzerland.html", "NO": "journey/norway.html",
        "US": "journey/usa.html", "MV": "journey/maldives.html", "TH": "journey/thailand.html",
        "MY": "journey/malaysia.html", "SG": "journey/singapore.html", "ID": "journey/indonesia.html",
        "AU": "journey/australia.html", "AE": "journey/uae.html", "TR": "journey/turkey.html"
    };

    const map = new jsVectorMap({
        selector: "#world-map",
        map: "world",
        draggable: true,
        zoomButtons: false,
        
        regionStyle: {
            initial: { 
                fill: '#ececec', // 未去过国家的基础色
                stroke: '#fff', 
                strokeWidth: 0.8 
            },
            hover: { 
                fillOpacity: 0.8, 
                cursor: 'pointer' 
            }
        },

        // 应用自定义的多彩颜色系列
        series: {
            regions: [{
                values: countryStyles,
                attribute: 'fill'
            }]
        },

        // 处理点击跳转
        onRegionClick: function(event, code) {
            if (travelLinks[code]) {
                window.location.href = travelLinks[code];
            }
        },

        // 处理提示框名字显示及修复
        onRegionTooltipShow(event, tooltip, code) {
            let name = tooltip.text();
            
            // 领土名字修复
            if (code === "TW" || code === "CN") {
                name = "China";
            }

            if (countryStyles[code]) {
                tooltip.text(
                    `<div style="text-align:center;">
                        <b style="font-size:16px;">${name}</b><br>
                        <span style="color: #81ecec; font-size:12px;">View Memories →</span>
                    </div>`, 
                    true // 允许 HTML 渲染
                );
            } else {
                tooltip.text(`<b>${name}</b>`);
            }
        }
    });
</script>

</body>
</html>
