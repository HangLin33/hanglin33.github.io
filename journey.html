<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Journey - World Map</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsvectormap/dist/css/jsvectormap.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/jsvectormap"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsvectormap/dist/maps/world.js"></script>

    <style>
        :root {
            --apple-bg: #f5f5f7;
            --tiffany-blue: #81ecec;
            --dark-gray: #1d1d1f;
        }

        body { background-color: var(--apple-bg); font-family: -apple-system, BlinkMacSystemFont, sans-serif; }

        .map-wrapper {
            max-width: 1100px;
            margin: 50px auto;
            padding: 20px;
            background: #ffffff;
            border-radius: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.05);
        }

        /* åœ°å›¾å®¹å™¨é«˜åº¦ */
        #world-map {
            width: 100%;
            height: 600px;
        }

        .map-header { padding: 30px; text-align: left; }
        .map-header h2 { font-size: 2.5rem; font-weight: 800; color: var(--dark-gray); margin-bottom: 10px; }
        .map-header p { color: #86868b; font-size: 1.1rem; }

        /* é¼ æ ‡æ‚¬åœåœ¨å›½å®¶ä¸Šçš„æ ·å¼ç”± JS æ§åˆ¶ï¼Œè¿™é‡Œå®šä¹‰æç¤ºæ¡†æ ·å¼ */
        .jvm-tooltip {
            background: var(--dark-gray);
            font-family: inherit;
            border-radius: 8px;
            padding: 8px 12px;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="map-wrapper">
        <div class="map-header">
            <h2>Global Footprints</h2>
            <p>Click on the <span style="color: var(--tiffany-blue); font-weight: 600;">colored countries</span> to explore my travel stories.</p>
        </div>
        
        <div id="world-map"></div>
    </div>
</div>

<script>
    // å®šä¹‰ä½ å»è¿‡çš„å›½å®¶åŠå…¶å¯¹åº”çš„è·³è½¬é“¾æ¥
    const myTravels = {
        "GB": "journey/uk.html",         // è‹±å›½
        "FR": "journey/france.html",     // æ³•å›½
        "DE": "journey/germany.html",    // å¾·å›½
        "IT": "journey/italy.html",      // æ„å¤§åˆ©
        "CH": "journey/switzerland.html",// ç‘å£«
        "NO": "journey/norway.html",     // æŒªå¨
        "US": "journey/usa.html",        // ç¾å›½
        "MV": "journey/maldives.html",   // é©¬å°”ä»£å¤«
        "CN": "journey/china.html",      // ä¸­å›½
        "TH": "journey/thailand.html",   // æ³°å›½
        "MY": "journey/malaysia.html",   // é©¬æ¥è¥¿äºš
        "SG": "journey/singapore.html",  // æ–°åŠ å¡
        "ID": "journey/indonesia.html",  // å°åº¦å°¼è¥¿äºš
        "AU": "journey/australia.html",  // æ¾³å¤§åˆ©äºš
        "AE": "journey/uae.html",        // é˜¿è”é…‹
        "TR": "journey/turkey.html"      // åœŸè€³å…¶
    };

    const map = new jsVectorMap({
        selector: "#world-map",
        map: "world",
        draggable: true,
        zoomButtons: true,
        
        // åŸºç¡€æ ·å¼
        regionStyle: {
            initial: {
                fill: '#e5e5e7',     // æœªå»è¿‡çš„å›½å®¶é¢œè‰² (ç°è‰²)
                fillOpacity: 1,
                stroke: '#fff',
                strokeWidth: 0.5
            },
            hover: {
                fillOpacity: 0.8,
                cursor: 'pointer'
            },
            selected: {
                fill: '#81ecec'      // è¿™ä¸ªå…¶å®å¯ä»¥ä¸ç”¨ï¼Œæˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„ markers/series æ§åˆ¶
            }
        },

        // é«˜äº®ä½ å»è¿‡çš„å›½å®¶
        series: {
            regions: [{
                values: Object.keys(myTravels).reduce((acc, curr) => {
                    acc[curr] = 1; // æ ‡è®°è¿™äº›å›½å®¶
                    return acc;
                }, {}),
                attribute: 'fill',
                scale: {
                    // å»è¿‡çš„å›½å®¶ç»Ÿä¸€æ˜¾ç¤ºçš„é¢œè‰²
                    '1': '#81ecec' 
                }
            }]
        },

        // æ ¸å¿ƒåŠŸèƒ½ï¼šç‚¹å‡»äº‹ä»¶
        onRegionClick: function(event, code) {
            if (myTravels[code]) {
                // å¦‚æœåœ¨åå•é‡Œï¼Œè·³è½¬é¡µé¢
                window.location.href = myTravels[code];
            } else {
                console.log("Haven't been to " + code + " yet!");
            }
        },

        // é¼ æ ‡æ‚¬åœæ—¶çš„æç¤º
        onRegionTooltipShow(event, tooltip, code) {
            if (myTravels[code]) {
                tooltip.text(
                    `<b>${tooltip.text()}</b><br>(Click to view memories ğŸ“¸)`
                );
            }
        }
    });
</script>

</body>
</html>
