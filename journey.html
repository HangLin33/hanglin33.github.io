<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Global Journey - Hang Lin</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsvectormap/dist/css/jsvectormap.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/jsvectormap"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsvectormap/dist/maps/world.js"></script>

    <style>
        :root {
            --apple-bg: #f5f5f7;
            --dark-gray: #1d1d1f;
        }

        body { background-color: var(--apple-bg); font-family: -apple-system, BlinkMacSystemFont, sans-serif; margin: 0; }

        /* è¿”å›æŒ‰é’® - è‹¹æœé£ */
        .back-home {
            position: fixed; top: 20px; left: 20px; z-index: 999;
            background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px);
            padding: 10px 20px; border-radius: 50px; border: 1px solid rgba(0,0,0,0.1);
            text-decoration: none; color: var(--dark-gray); font-size: 14px; font-weight: 500;
        }

        .map-wrapper {
            max-width: 1100px; margin: 60px auto; padding: 20px;
            background: #ffffff; border-radius: 30px; box-shadow: 0 20px 40px rgba(0,0,0,0.05);
        }

        #world-map { width: 100%; height: 600px; }

        .map-header { padding: 30px; text-align: left; }
        .map-header h2 { font-size: 2.5rem; font-weight: 800; color: var(--dark-gray); margin-bottom: 10px; }

        .jvm-tooltip {
            background: var(--dark-gray); border-radius: 8px; padding: 8px 12px;
            color: white; font-family: inherit;
        }
    </style>
</head>
<body>

<a href="index.html" class="back-home">â† Back to Home</a>

<div class="map-wrapper">
    <div class="map-header">
        <h2>Global Footprints</h2>
        <p style="color: #86868b;">Click on the countries to explore my travel stories.</p>
    </div>
    <div id="world-map"></div>
</div>

<script>
    // 1. å®šä¹‰æ¯ä¸ªå›½å®¶ç‹¬æœ‰çš„é¢œè‰² (Tiffanyè“/è«å…°è¿ªè‰²ç³»)
    const travelData = {
        "CN": "#81ecec", "TW": "#81ecec", // ä¸­å›½å¤§é™†åŠå°æ¹¾ï¼šç»Ÿä¸€é¢œè‰²
        "GB": "#74b9ff", "FR": "#a29bfe", "DE": "#dfe6e9",
        "IT": "#55efc4", "CH": "#fab1a0", "NO": "#00cec9",
        "US": "#0984e3", "MV": "#00b894", "TH": "#ffeaa7",
        "MY": "#fdcb6e", "SG": "#e17055", "ID": "#55efc4",
        "AU": "#fd79a8", "AE": "#636e72", "TR": "#b2bec3"
    };

    // 2. å¯¹åº”çš„è·³è½¬é“¾æ¥
    const travelLinks = {
        "CN": "journey/china.html", "TW": "journey/china.html",
        "GB": "journey/uk.html", "FR": "journey/france.html", "DE": "journey/germany.html",
        "IT": "journey/italy.html", "CH": "journey/switzerland.html", "NO": "journey/norway.html",
        "US": "journey/usa.html", "MV": "journey/maldives.html", "TH": "journey/thailand.html",
        "MY": "journey/malaysia.html", "SG": "journey/singapore.html", "ID": "journey/indonesia.html",
        "AU": "journey/australia.html", "AE": "journey/uae.html", "TR": "journey/turkey.html"
    };

    const map = new jsVectorMap({
        selector: "#world-map",
        map: "world",
        draggable: true,
        zoomButtons: true,
        
        regionStyle: {
            initial: { fill: '#e5e5e7', stroke: '#fff', strokeWidth: 0.5 },
            hover: { fillOpacity: 0.8, cursor: 'pointer' }
        },

        // ã€å…³é”®ç‚¹ã€‘è¿™é‡Œé€šè¿‡ values ç›´æ¥ä¼ é¢œè‰²å¯¹è±¡ï¼Œé¿å¼€ scale é€»è¾‘
        series: {
            regions: [{
                values: travelData,
                attribute: 'fill'
            }]
        },

        onRegionClick: function(event, code) {
            if (travelLinks[code]) {
                window.location.href = travelLinks[code];
            }
        },

        onRegionTooltipShow(event, tooltip, code) {
            let name = tooltip.text();
            
            // ä¿®å¤å°æ¹¾åç§°åŠé¢†åœŸæ˜¾ç¤º
            if (code === "TW" || code === "CN") {
                name = "China";
            }

            // ä¿®å¤ï¼šå¦‚æœæ˜¯åœ¨å·²è®°å½•çš„å›½å®¶ï¼Œæ˜¾ç¤ºè‡ªå®šä¹‰ HTML
            if (travelData[code]) {
                tooltip.text(
                    `<div style="text-align:center;"><b>${name}</b><br>Click to view memories ğŸ“¸</div>`, 
                    true // è¿™é‡Œçš„ true æå…¶é‡è¦ï¼Œå®ƒå‘Šè¯‰ç¨‹åºè¿™æ˜¯ HTML è€Œä¸æ˜¯çº¯æ–‡æœ¬
                );
            } else {
                // å¦‚æœæ˜¯å…¶ä»–å›½å®¶ï¼Œç›´æ¥æ˜¾ç¤ºçº¯æ–‡æœ¬åï¼Œé¿å… <b> æ ‡ç­¾å¤–éœ²
                tooltip.text(name);
            }
        }
    });
</script>

</body>
</html>
